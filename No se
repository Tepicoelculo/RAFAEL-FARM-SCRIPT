local library = loadstring(game:HttpGet("https://raw.githubusercontent.com/memejames/elerium-v2-ui-library/main/Library", true))()

-- Janela principal
local window = library:AddWindow("AUTO FARMEO RAFAEL | PAID", {
    main_color = Color3.fromRGB(0, 0, 255), -- Vermelho escuro
    min_size = Vector2.new(715, 550),
    can_resize = false,
})


local InventoryTab = window:AddTab("Inventory")
-- INVENTORY TAB

InventoryTab:AddLabel("Egg Gifter:").TextSize = 22

local proteinEggLabel = InventoryTab:AddLabel("Protein Eggs: 0")
proteinEggLabel.TextSize = 20

local selectedPlayer = nil
local eggCount = 0

local playerDropdown =
    InventoryTab:AddDropdown(
    "Choose Player",
    function(name)
        selectedPlayer = Players:FindFirstChild(name)
    end
)

for _, player in ipairs(Players:GetPlayers()) do
    if player ~= Players.LocalPlayer then
        playerDropdown:Add(player.Name)
    end
end

Players.PlayerAdded:Connect(
    function(player)
        if player ~= Players.LocalPlayer then
            playerDropdown:Add(player.Name)
        end
    end
)

InventoryTab:AddTextBox(
    "Amount",
    function(Text)
        eggCount = tonumber(Text)
    end
)

InventoryTab:AddButton(
    "Start Gifting",
    function()
        if selectedPlayer and eggCount and eggCount > 0 then
            for i = 1, eggCount do
                local args = {
                    [1] = "giftRequest",
                    [2] = selectedPlayer,
                    [3] = Players.LocalPlayer.consumablesFolder:FindFirstChild("Protein Egg")
                }
                ReplicatedStorage.rEvents.giftRemote:InvokeServer(unpack(args))
            end
        end
    end
)

-- SHAKE GIFTER
InventoryTab:AddLabel("Shake Gifter:").TextSize = 22

local tropicalShakeLabel = InventoryTab:AddLabel("Tropical Shakes: 0")
tropicalShakeLabel.TextSize = 18

local function updateItemCount()
    local proteinEggCount = 0
    local tropicalShakeCount = 0

    local backpack = Players.LocalPlayer:WaitForChild("Backpack")
    if backpack then
        for _, item in ipairs(backpack:GetChildren()) do
            if item.Name == "Protein Egg" then
                proteinEggCount = proteinEggCount + 1
            elseif item.Name == "Tropical Shake" then
                tropicalShakeCount = tropicalShakeCount + 1
            end
        end
    end

    proteinEggLabel.Text = "Protein Eggs: " .. proteinEggCount
    tropicalShakeLabel.Text = "Tropical Shakes: " .. tropicalShakeCount
end

task.spawn(function()
    while true do
        updateItemCount()
        task.wait(0.25)
    end
end)

local selectedPlayer = nil
local shakeCount = 0

local playerDropdown =
    InventoryTab:AddDropdown(
    "Choose Player",
    function(name)
        selectedPlayer = Players:FindFirstChild(name)
    end
)

for _, player in ipairs(Players:GetPlayers()) do
    if player ~= Players.LocalPlayer then
        playerDropdown:Add(player.Name)
    end
end

Players.PlayerAdded:Connect(function(player)
    if player ~= Players.LocalPlayer then
        playerDropdown:Add(player.Name)
    end
end)

InventoryTab:AddTextBox(
    "Amount",
    function(Text)
        shakeCount = tonumber(Text)
    end
)

InventoryTab:AddButton(
    "Start Gifting",
    function()
        if selectedPlayer and shakeCount and shakeCount > 0 then
            for i = 1, shakeCount do
                local args = {
                    [1] = "giftRequest",
                    [2] = selectedPlayer,
                    [3] = Players.LocalPlayer.consumablesFolder:FindFirstChild("Tropical Shake")
                }
                ReplicatedStorage.rEvents.giftRemote:InvokeServer(unpack(args))
            end
        end
    end
)

-- EGG DEVOUR
InventoryTab:AddLabel("Eater:").TextSize = 22

local function activateProteinEgg()
    local tool = player.Character:FindFirstChild("Protein Egg") or player.Backpack:FindFirstChild("Protein Egg")
    if tool then
        muscleEvent:FireServer("proteinEgg", tool)
    end
end

local running = false

task.spawn(function()
    while true do
        if running then
            activateProteinEgg()
            task.wait(0.25)
        else
            task.wait(1)
        end
    end
end)

local switch =
    InventoryTab:AddSwitch(
    "Egg Devour",
    function(state)
        running = state
        if state then
            activateProteinEgg()
        end
    end
)
switch:Set(false)

-- EAT EVERYTHING
local itemList = {
    "Tropical Shake",
    "Energy Shake",
    "Protein Bar",
    "TOUGH Bar",
    "Protein Shake",
    "ULTRA Shake",
    "Energy Bar"
}

local function formatEventName(itemName)
    local parts = {}
    for word in itemName:gmatch("%S+") do
        table.insert(parts, word:lower())
    end
    for i = 2, #parts do
        parts[i] = parts[i]:sub(1, 1):upper() .. parts[i]:sub(2)
    end
    return table.concat(parts)
end

local function activateRandomItems(count)
    local shuffledItems = {}
    for _, item in ipairs(itemList) do
        table.insert(shuffledItems, item)
    end
    for i = #shuffledItems, 2, -1 do
        local j = math.random(i)
        shuffledItems[i], shuffledItems[j] = shuffledItems[j], shuffledItems[i]
    end
    for i = 1, math.min(count, #shuffledItems) do
        local tool = player.Character:FindFirstChild(shuffledItems[i]) or player.Backpack:FindFirstChild(shuffledItems[i])
        if tool then
            local eventName = formatEventName(shuffledItems[i])
            muscleEvent:FireServer(eventName, tool)
        end
    end
end

local running = false

task.spawn(function()
    while true do
        if running then
            activateRandomItems(4)
            task.wait(0.5)
        else
            task.wait(0.5)
        end
    end
end)

local switch =
    InventoryTab:AddSwitch(
    "Eat Everything",
    function(state)
        running = state
        if state then
            activateRandomItems(4)
        end
    end
)
switch:Set(false)
local Credits = window:AddTab("Credits")

Credits:AddLabel("Version 2")
Credits:AddLabel("Script Hecho por username:")
Credits:AddLabel("Demon_misteriousX and MrMyers1983")
Credits:AddLabel("Discord: https://discord.gg/vm6hEdMzHg")
